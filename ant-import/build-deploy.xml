<?xml version="1.0" encoding="UTF-8"?>

<!-- ====================================================================== -->
<!--                                                                        -->
<!--  JBoss, the OpenSource J2EE webOS                                      -->
<!--                                                                        -->
<!--  Distributable under LGPL license.                                     -->
<!--  See terms of license at http://www.gnu.org.                           -->
<!--                                                                        -->
<!-- ====================================================================== -->

<!-- $Id$ -->

<project>

  <import file="${int.xfire.dir}/ant-import/macros-deploy-xfire.xml"/>
	<import file="${framework.dir}/ant-import/macros-deploy-wsf.xml"/>
  
  <!-- ================================================================== -->
  <!-- Deployment                                                         -->
  <!-- ================================================================== -->
  
  <!-- Deploy to jboss50 -->
  <target name="deploy-jboss50" depends="jars-jboss50,undeploy-jboss50" description="Deploy jbossws/xfire to jboss50">
    <ant antfile="${core.dir}/build.xml" target="undeploy-jboss50" inheritall="false"/>
    <ant antfile="${int.sunri.dir}/build.xml" target="undeploy-jboss50" inheritall="false"/>
    <macro-deploy-xfire50 
      wsflibs="${framework.dir}/output/lib" 
      stacklibs="${int.xfire.dir}/output/lib" 
      thirdpartylibs="${int.xfire.dir}/thirdparty"/>

		<macro-deploy-wsf
				wsflibs="${framework.dir}/output/lib"				
				thirdpartylibs="${framework.dir}/thirdparty"
				jbosshome="${jboss50.home}"/>
  </target>
    
  <!-- Remove from jboss50 -->
  <target name="undeploy-jboss50" depends="prepare" description="Remove jbossws/xfire from jboss50">
    <macro-undeploy-xfire50/>
		<macro-undeploy-wsf jbosshome="${jboss50.home}"/>
  </target>
  
  <!-- Deploy to jboss42 -->
  <target name="deploy-jboss42" depends="jars-jboss42,undeploy-jboss42" description="Deploy jbossws/xfire to jboss42">
    <ant antfile="${core.dir}/build.xml" target="undeploy-jboss42" inheritall="false"/>
    <ant antfile="${int.sunri.dir}/build.xml" target="undeploy-jboss42" inheritall="false"/>
    <macro-deploy-xfire42 
      wsflibs="${framework.dir}/output/lib" 
      stacklibs="${int.xfire.dir}/output/lib" 
      thirdpartylibs="${int.xfire.dir}/thirdparty"/>
    
		<macro-deploy-wsf
				wsflibs="${framework.dir}/output/lib"				
				thirdpartylibs="${framework.dir}/thirdparty"
				jbosshome="${jboss42.home}"/>
  </target>
    
  <!-- Remove from jboss42 -->
  <target name="undeploy-jboss42" depends="prepare" description="Remove jbossws/xfire from jboss42">
    <macro-undeploy-xfire42/>
		<macro-undeploy-wsf jbosshome="${jboss42.home}"/>
  </target>
  
</project>
