<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.1 http://maven.apache.org/xsd/assembly-1.1.1.xsd">
  
  <id>binary-distribution</id>
  <formats>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  
  <fileSets>
    <!-- root -->
    <fileSet>
      <directory>src/main/distro</directory>
      <outputDirectory>jbossws-cxf-bin-dist</outputDirectory>
      <includes>
        <include>build.xml</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>src/main/distro</directory>
      <outputDirectory>jbossws-cxf-bin-dist</outputDirectory>
      <filtered>true</filtered>
      <includes>
        <include>ant.properties.example</include>
      </includes>
    </fileSet>
    <!-- build -->
    <fileSet>
      <directory>src/main/distro</directory>
      <outputDirectory>jbossws-cxf-bin-dist/build</outputDirectory>
      <includes>
        <include>build-deploy.xml</include>
        <include>build-setup.xml</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../resources/src/main/resources/resources</directory>
      <outputDirectory>jbossws-cxf-bin-dist/build</outputDirectory>
      <includes>
        <include>modules-deploy.conf</include>
        <include>jbossws-deploy-macros.xml</include>
      </includes>
    </fileSet>
    <!-- docs -->
    <fileSet>
      <directory>src/main/distro</directory>
      <outputDirectory>jbossws-cxf-bin-dist/docs</outputDirectory>
      <filtered>true</filtered>
      <includes>
        <include>Install.txt</include>
        <include>ReleaseNotes.txt</include>
        <include>JBossORG-EULA.txt</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target/docbook/publish</directory>
      <outputDirectory>jbossws-cxf-bin-dist/docs</outputDirectory>
    </fileSet>
    <!-- deploy -->
    <fileSet>
      <directory>target/assembly/deploy-artifacts</directory>
      <outputDirectory>jbossws-cxf-bin-dist/deploy</outputDirectory>
    </fileSet>
    <!-- test etc -->
    <fileSet>
      <directory>../testsuite/cxf-tests/src/test</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests</outputDirectory>
      <includes>
        <include>etc/**</include>
      </includes>
    </fileSet>
    <!-- test excludes -->
    <fileSet>
      <directory>target/exclude-file</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests/resources</outputDirectory>
      <includes>
        <include>test-excludes-*.txt</include>
      </includes>
    </fileSet>
    <!-- Stack specific tests -->
    <fileSet>
      <directory>../testsuite/cxf-tests/src/test</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests</outputDirectory>
      <includes>
        <include>java/org/jboss/test/ws/jaxws/samples/**</include>
        <include>java/org/jboss/wsf/test/**</include>
        <include>resources/jaxws/samples/**</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../testsuite/cxf-tests/scripts</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests/ant-import</outputDirectory>
      <includes>
        <include>cxf-samples-jars-jaxws.xml</include>
      </includes>
    </fileSet>
    <!-- Test utils -->
    <fileSet>
      <directory>../test-utils/src/main</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests</outputDirectory>
      <includes>
        <include>java/org/jboss/wsf/test/**</include>
      </includes>
    </fileSet>
    <!-- Stack agnostic tests -->
    <fileSet>
      <directory>../testsuite/shared-tests/src/test</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests</outputDirectory>
      <includes>
        <include>ant-import/**</include>
        <include>java/org/jboss/test/helper/**</include>
        <include>java/org/jboss/test/ws/jaxws/samples/**</include>
        <include>java/org/jboss/test/ws/jaxws/smoke/**</include>
        <include>java/org/jboss/test/ws/appclient/**</include>
        <include>java/org/jboss/test/ws/management/**</include>
        <include>java/org/jboss/test/ws/saaj/**</include>
        <include>resources/jaxws/samples/**</include>
        <include>resources/jaxws/smoke/**</include>
        <include>resources/management/**</include>
        <include>resources/saaj/**</include>
      </includes>
    </fileSet>
    <!-- Testsuite build -->
    <fileSet>
      <directory>src/main/distro</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests/ant-import</outputDirectory>
      <includes>
        <include>build-testsuite.xml</include>
      </includes>
    </fileSet>
    <!-- Appclient patches -->
    <fileSet>
      <directory>../testsuite/src/test/resources/</directory>
      <outputDirectory>jbossws-cxf-bin-dist/tests/etc/appclient</outputDirectory>
    </fileSet>
  </fileSets>
</assembly>
