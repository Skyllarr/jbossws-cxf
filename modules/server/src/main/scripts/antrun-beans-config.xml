<?xml version="1.0" encoding="UTF-8"?>

<!-- ====================================================================== -->
<!--                                                                        -->
<!--  JBoss, the OpenSource J2EE webOS                                      -->
<!--                                                                        -->
<!--  Distributable under LGPL license.                                     -->
<!--  See terms of license at http://www.gnu.org.                           -->
<!--                                                                        -->
<!-- ====================================================================== -->

<project default="main">

  <property name="src.dir" value="${basedir}/src/main/resources"/>
  <property name="dest.dir" value="${basedir}/target/resources"/>

  <target name="check-spring">
    <condition property="spring-required">
      <and>
        <istrue value="${spring}"/>
      </and>
    </condition>
  </target> 

  <target name="main" 
          depends="check-spring,copy-config-as5,copy-config-as6,copy-config-as6-jms,copy-config-as6-jaxrpc"/>

  <target name="copy-config-as5">
    
    <copy
      file="${src.dir}/jbossws-cxf-config-as5.xml"
      tofile="${dest.dir}/jbossws-jboss501/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

    <copy
      file="${src.dir}/jbossws-cxf-config-as5.xml"
      tofile="${dest.dir}/jbossws-jboss510/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

  </target>

  <target name="copy-config-as6" unless="spring-required">

    <copy
      file="${src.dir}/jbossws-cxf-config-as6.xml"
      tofile="${dest.dir}/jbossws-jboss600/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

    <copy
      file="${src.dir}/jbossws-cxf-config-as6.xml"
      tofile="${dest.dir}/jbossws-jboss601/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

  </target>

  <target name="copy-config-as6-jms" if="spring-required">

    <copy
      file="${src.dir}/jbossws-cxf-jms-config-as6.xml"
      tofile="${dest.dir}/jbossws-jboss600/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

    <copy
      file="${src.dir}/jbossws-cxf-jms-config-as6.xml"
      tofile="${dest.dir}/jbossws-jboss601/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

  </target>


  <target name="copy-config-as6-jaxrpc">

    <copy
      file="${src.dir}/jbossws-jaxrpc-config-as6.xml"
      tofile="${dest.dir}/jbossws-jaxrpc-jboss600/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

    <copy
      file="${src.dir}/jbossws-jaxrpc-config-as6.xml"
      tofile="${dest.dir}/jbossws-jaxrpc-jboss601/jbossws.beans/META-INF/stack-specific-jboss-beans.xml"
    />

  </target>
</project>
