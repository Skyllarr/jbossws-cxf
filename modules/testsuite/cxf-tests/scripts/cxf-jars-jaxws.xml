<?xml version="1.0" encoding="UTF-8"?>

<!-- ============================================================ -->
<!--  JBoss, the OpenSource J2EE webOS                            -->
<!--  Distributable under LGPL license.                           -->
<!--  See terms of license at http://www.gnu.org.                 -->
<!-- ============================================================ -->

<project>

  <description>JBossWS test archive builder</description>

  <!-- ============================================================================== -->
  <!-- Building                                                                       -->
  <!--                                                                                -->
  <!-- Where to create your tests                                                     -->
  <!-- http://www.jboss.com/index.html?module=bb&op=viewtopic&p=4144172#4144172       -->
  <!--                                                                                -->
  <!-- ============================================================================== -->

  <target name="build-jars-jaxws" description="Build the deployments.">

    <mkdir dir="${tests.output.dir}/test-libs"/>
  	
    <!-- jaxws-cxf-bus -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-bus.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointImpl.class"/>
      </classes>
    </war>
    <!-- jaxws-cxf-bus-ejb3-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-bus-ejb3-client.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointService.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EJB3Client.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EJB3ClientRemoteInterface.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/AbstractClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/BusTestException.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/bus/META-INF">
        <include name="wsdl/**/*" />
      </metainf>
    </jar>
	<!-- jaxws-cxf-bus-servlet-client -->
    <war destfile="${tests.output.dir}/test-libs/jaxws-cxf-bus-servlet-client.war"
        manifest="${tests.output.dir}/test-resources/jaxws/cxf/bus/META-INF/MANIFEST.MF"
        webxml="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF-client/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointService.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/ServletClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/AbstractClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/BusTestException.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF-client/wsdl"
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- jaxws-cxf-descriptor -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-descriptor.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/descriptor/DescriptorEndpointImpl.class"/>
      	<include name="org/jboss/test/ws/jaxws/cxf/descriptor/TestLoggingInInterceptor.class"/>
      </classes>
      <classes dir="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/">
        <include name="cxf.xml"/>
      </classes>    	
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-interop-wstrust10-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-interop-wstrust10-client.jar">
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/interop/wstrust10/META-INF">
        <include name="**/*" />
      </metainf>
    </jar>

    <!-- jaxws-cxf-wsrm-basic-doc -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-doc.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-doc/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicDocEndpointImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicDocEndpoint.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-doc/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-wsrm-basic-rpc -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-rpc.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-rpc/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicRPCEndpointImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicRPCEndpoint.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-rpc/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-wsrm-basic-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-client.jar">
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/">
        <include name="cxf.xml" />
      </metainf>
    </jar>

	<!-- jaxws-cxf-jbws3745 -->
	<war destfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3745.war"
			 webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3745/WEB-INF/web.xml">
		<classes dir="${tests.output.dir}/test-classes">
			<include name="org/jboss/test/ws/jaxws/cxf/jbws3745/SimpleService*.class" />
		</classes>
	</war>
  	
	<!-- saaj-soap-connection -->
    <war
       warfile="${tests.output.dir}/test-libs/saaj-soap-connection.war"
       webxml="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceImpl.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceIface.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/InputStreamDataSource.class"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- Please add alphabetically -->

  </target>

</project>
