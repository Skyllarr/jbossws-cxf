<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ JBoss, Home of Professional Open Source.
  ~ Copyright 2014, Red Hat, Inc., and individual contributors
  ~ as indicated by the @author tags. See the copyright.txt file in the
  ~ distribution for a full listing of individual contributors.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, write to the Free
  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
  -->

<project>

  <description>JBossWS test archive builder</description>

  <target name="build-jars-jaxws" description="Build the deployments.">

    <mkdir dir="${tests.output.dir}/test-libs"/>

    <!-- jaxws-cxf-asyncclient -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-asyncclient.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/asyncclient/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/asyncclient/EndpointImpl*.class"/>
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.apache.cxf"/>
      </manifest>
    </war>	

    <!-- jaxws-cxf-embedded-fail -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-embedded-fail.war"
    	webxml="${tests.output.dir}/test-resources/jaxws/cxf/noIntegration/embedded/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/noIntegration/EchoImpl.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/noIntegration/embedded/WEB-INF">
      	<include name="beans.xml"/>
      </webinf>
      <zipfileset
        dir="${tests.output.dir}/spring/" 
        prefix="WEB-INF/lib/"/>
      <zipfileset
        dir="${tests.output.dir}/cxf-embedded/" 
        prefix="WEB-INF/lib/"/>
      <manifest>
        <attribute name="Dependencies" value="javax.wsdl4j.api,org.apache.ws.xmlschema,org.apache.neethi,org.codehaus.woodstox"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jbws3516 -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3516.war"
       webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3516/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3516/*.class"/>
      	<exclude name="org/jboss/test/ws/jaxws/cxf/jbws3516/*TestCase.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/jbws3516/WEB-INF">
         <include name="wsdl/**" />
       </webinf>
<!--       <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/jbws3516/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/> -->
        <manifest>
          <attribute name="Dependencies" value="org.apache.cxf.impl"/>
        </manifest>
    </war>
  	
    <!-- jaxws-cxf-jbws3593 -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3593.war" needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3593/EndpointBean.class" />
      	<include name="org/jboss/test/ws/jaxws/cxf/jbws3593/MTOMOutInterceptor.class" />
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.apache.cxf"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jbws3679 -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3679.war"  webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3679/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3679/*.class"/>
        <exclude name="org/jboss/test/ws/jaxws/cxf/jbws3679/*TestCase.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/jbws3679/WEB-INF">
          <include name="beans.xml"/>
       </webinf>
    </war>
  	
    <!-- jaxws-cxf-servletCtx -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-servletCtx.war" needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/servletCtx/EndpointOneImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/servletCtx/EndpointOne.class"/>
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.logging"/>
      </manifest>
    </war>

    <!-- saaj-soap-connection -->
    <war
       warfile="${tests.output.dir}/test-libs/saaj-soap-connection.war"
       webxml="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceImpl.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceIface.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/InputStreamDataSource.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF">
         <include name="wsdl/**" />
       </webinf>
       <!--<zipfileset
          dir="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>-->
    </war>

    <!-- Please add alphabetically -->

  </target>

</project>
