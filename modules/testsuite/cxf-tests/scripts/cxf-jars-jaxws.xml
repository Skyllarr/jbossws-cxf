<?xml version="1.0" encoding="UTF-8"?>

<!-- ============================================================ -->
<!--  JBoss, the OpenSource J2EE webOS                            -->
<!--  Distributable under LGPL license.                           -->
<!--  See terms of license at http://www.gnu.org.                 -->
<!-- ============================================================ -->

<project>

  <description>JBossWS test archive builder</description>

  <!-- ============================================================================== -->
  <!-- Building                                                                       -->
  <!--                                                                                -->
  <!-- Where to create your tests                                                     -->
  <!-- http://www.jboss.com/index.html?module=bb&op=viewtopic&p=4144172#4144172       -->
  <!--                                                                                -->
  <!-- ============================================================================== -->

  <target name="build-jars-jaxws" description="Build the deployments.">

    <mkdir dir="${tests.output.dir}/test-libs"/>

    <!-- jaxws-cxf-bus -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-bus.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointImpl.class"/>
      </classes>
    </war>
    <!-- jaxws-cxf-bus-ejb3-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-bus-ejb3-client.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointService.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EJB3Client.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EJB3ClientRemoteInterface.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/AbstractClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/BusTestException.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/bus/META-INF">
        <include name="wsdl/**/*" />
      </metainf>
    </jar>
  	
    <!-- jaxws-cxf-bus-servlet-client -->
    <war destfile="${tests.output.dir}/test-libs/jaxws-cxf-bus-servlet-client.war"
    	manifest="${tests.output.dir}/test-resources/jaxws/cxf/bus/META-INF/MANIFEST.MF"
    	webxml="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF-client/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/bus/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/EndpointService.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/ServletClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/AbstractClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/bus/BusTestException.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/bus/WEB-INF-client/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- jaxws-cxf-endorse -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-endorse.war"
  	  manifest="${tests.output.dir}/test-resources/jaxws/cxf/endorse/META-INF/MANIFEST.MF"
      webxml="${tests.output.dir}/test-resources/jaxws/cxf/endorse/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/endorse/TestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/endorse/Helper.class"/>
      </classes>
    </war>

    <!-- jaxws-cxf-endpoint -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-endpoint.war"
      webxml="${tests.output.dir}/test-resources/jaxws/cxf/endpoint/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/endpoint/TestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/endpoint/HelloWorld*.class"/>
      </classes>
    </war>

    <!-- jaxws-cxf-gzip -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-gzip.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/gzip/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/gzip/HelloWorld*.class"/>
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.apache.cxf"/>
      </manifest>
    </war>
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-gzip-client.war"
    	manifest="${tests.output.dir}/test-resources/jaxws/cxf/gzip/META-INF/MANIFEST.MF"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/gzip/Helper.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/gzip/GZIPEnforcingInInterceptor.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/gzip/HelloWorld.class"/>
        <include name="org/jboss/wsf/test/TestServlet.class"/>
        <include name="org/jboss/wsf/test/ClientHelper.class"/>
      </classes>
    </war>

    <!-- jaxws-cxf-httpproxy -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-httpproxy.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/httpproxy/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/httpproxy/HelloWorld*.class"/>
      </classes>
    </war>

    <!-- jaxws-cxf-jaxbintros -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-jaxbintros.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/EndpointBean.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/UserType.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/jaxbintros/META-INF">
        <include name="**/*" />
      </metainf>
    </jar>
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jaxbintros-client.war"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/Helper.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/Endpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/AnnotatedUserEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jaxbintros/AnnotatedUserType.class"/>
        <include name="org/jboss/wsf/test/TestServlet.class"/>
        <include name="org/jboss/wsf/test/ClientHelper.class"/>
      	<include name="test-resources/jaxws/cxf/jaxbintros/META-INF/jaxb-intros.xml"/>
      </classes>
      <classes dir="${tests.output.dir}/test-resources/jaxws/cxf/jaxbintros/META-INF">
        <include name="jaxb-intros.xml"/>
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.cxf.jbossws-cxf-client services"/>
      </manifest>
    </war>

    <!-- jaxws-cxf-jbws3060 -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3060.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3060/EndpointOneEJB3Impl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3060/EndpointTwoEJB3Impl.class"/>
      </fileset>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.logging"/>
      </manifest>
    </jar>
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3060.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3060/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3060/EndpointOneImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3060/EndpointTwoImpl.class"/>
      </classes>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.logging"/>
      </manifest>
    </war>

    <!-- jaxws-cxf-jbws3098 -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3098.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3098/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3098/EndpointOneImpl.class"/>
      </classes>
    </war>

    <!-- jaxws-cxf-logging -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-logging.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/logging/LoggingFeatureEndpointImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/logging/LoggingInterceptorsEndpointImpl.class"/>
      	<include name="org/jboss/test/ws/jaxws/cxf/logging/CustomInInterceptor.class"/>
      </fileset>
    </jar>

    <!-- jaxws-cxf-management -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-management.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/management/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
         <include name="org/jboss/test/ws/jaxws/cxf/management/HelloWorldImpl.class" />  
         <include name="org/jboss/test/ws/jaxws/cxf/management/HelloWorld.class"/>
       </classes>
    </war>

    <!-- jaxws-samples-mtom -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-mtom.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/mtom/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/mtom/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/mtom/jaxws/*.class"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/samples/mtom/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- jaxws-samples-wsa -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsa.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsa/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsa/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsa/jaxws/*.class"/>
       </classes>
    </war>

    <!-- jaxws-samples-wsrm -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsrm-api.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsrm/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsrm/service/**"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/samples/wsrm/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>
  	
    <!-- jaxws-samples-wsse-policy-sign -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-sign.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaxws/*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/KeystorePasswordCallback.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign/WEB-INF">
          <include name="jaxws-endpoint-config.xml"/>
          <include name="wsdl/*"/>
       </webinf>
       <zipfileset dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign/WEB-INF" prefix="WEB-INF/classes">
          <include name="bob.jks" />
          <include name="bob.properties" />
       </zipfileset>
       <manifest>
        <attribute name="Dependencies" value="org.apache.ws.security"/>
      </manifest>
    </war>

    <!-- jaxws-samples-wsse-policy-sign-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-sign-client.jar">
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign/META-INF">
        <include name="alice.properties" />
        <include name="alice.jks" />
      </metainf>
    </jar>

    <!-- jaxws-samples-wsse-policy-sign-encrypt -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-sign-encrypt.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign-encrypt/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaxws/*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/KeystorePasswordCallback.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign-encrypt/WEB-INF">
          <include name="jaxws-endpoint-config.xml"/>
          <include name="wsdl/*"/>
       </webinf>
       <zipfileset dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign-encrypt/WEB-INF" prefix="WEB-INF/classes">
          <include name="bob.jks" />
          <include name="bob.properties" />
       </zipfileset>
       <manifest>
         <attribute name="Dependencies" value="org.apache.ws.security"/>
       </manifest>
    </war>

    <!-- jaxws-samples-wsse-policy-sign-encrypt-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-sign-encrypt-client.jar">
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/sign-encrypt/META-INF">
        <include name="alice.properties" />
        <include name="alice.jks" />
      </metainf>
    </jar>

    <!-- jaxws-samples-wsse-policy-username-unsecure-transport -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-username-unsecure-transport.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/username-unsecure-transport/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaxws/*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/ServerUsernamePasswordCallback.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/username-unsecure-transport/WEB-INF">
          <include name="jaxws-endpoint-config.xml"/>
          <include name="wsdl/*"/>
       </webinf>
       <manifest>
         <attribute name="Dependencies" value="org.apache.ws.security"/>
       </manifest>
    </war>

    <!-- jaxws-samples-wsse-policy-username -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-username.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/username/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaxws/*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/basic/ServerUsernamePasswordCallback.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/basic/username/WEB-INF">
          <include name="jaxws-endpoint-config.xml"/>
          <include name="wsdl/*"/>
       </webinf>
       <manifest>
         <attribute name="Dependencies" value="org.apache.ws.security"/>
       </manifest>
    </war>

    <!-- jaxws-samples-wsse-policy-username-jaas -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsse-policy-username-jaas.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/jaas/auth/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaas/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsse/policy/jaxws/*.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wsse/policy/jaas/auth/WEB-INF">
          <include name="jaxws-endpoint-config.xml"/>
          <include name="jboss-web.xml"/>
          <include name="wsdl/*"/>
       </webinf>
       <manifest>
         <attribute name="Dependencies" value="org.apache.ws.security,org.apache.cxf"/>
       </manifest>
    </war>

    <!-- saaj-soap-connection -->
    <war
       warfile="${tests.output.dir}/test-libs/saaj-soap-connection.war"
       webxml="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceImpl.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/ServiceIface.class"/>
          <include name="org/jboss/test/ws/saaj/jbws3084/InputStreamDataSource.class"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/saaj/jbws3084/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- Please add alphabetically -->

  </target>

</project>
