<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ JBoss, Home of Professional Open Source.
  ~ Copyright 2011, Red Hat, Inc., and individual contributors
  ~ as indicated by the @author tags. See the copyright.txt file in the
  ~ distribution for a full listing of individual contributors.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, write to the Free
  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
  -->

<project>

  <description>JBossWS test archive builder</description>

  <!-- ============================================================================== -->
  <!-- Building                                                                       -->
  <!--                                                                                -->
  <!-- Where to create your tests                                                     -->
  <!-- http://www.jboss.com/index.html?module=bb&op=viewtopic&p=4144172#4144172       -->
  <!--                                                                                -->
  <!-- ============================================================================== -->

  <target name="build-jars-jaxws" description="Build the deployments.">

    <mkdir dir="${tests.output.dir}/test-libs"/>

    <!-- jaxws-aegis -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-aegis.war"
       webxml="${tests.output.dir}/test-resources/jaxws/cxf/aegis/jaxws/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/AegisGroupQuery.class"/>
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/AegisGroupQueryImpl.class"/>
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/Member.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/aegis/jaxws/WEB-INF/">
          <include name="jbossws-cxf.xml"/>
       </webinf>
       <manifest>
         <attribute name="Dependencies" value="org.apache.cxf"/>
       </manifest>
    </war>
    
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-aegis-annotation.war"
       webxml="${tests.output.dir}/test-resources/jaxws/cxf/aegis/jaxws/annotation/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/AegisAnnotationGroupQuery.class"/>
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/AegisAnnotationGroupQueryImpl.class"/>
          <include name="org/jboss/test/ws/jaxws/cxf/aegis/Member.class"/>
       </classes>
       <manifest>
         <attribute name="Dependencies" value="org.apache.cxf.impl"/> <!-- cxf impl required due to AegisDataBinding reference in endpoint impl -->
       </manifest>
    </war>
  	
  	<!-- jaxws-cxf-configuration -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-cxf-configuration.war"
       webxml="${tests.output.dir}/test-resources/jaxws/cxf/configuration/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/cxf/configuration/ChangeRequestnterceptor.class"/>
          <include name="org/jboss/test/ws/jaxws/cxf/configuration/Endpoint.class"/>
       	  <include name="org/jboss/test/ws/jaxws/cxf/configuration/EndpointImpl.class"/>
       </classes>
       <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/configuration/WEB-INF">
          <include name="jbossws-cxf.xml"/>
       </webinf>
       <manifest>
         <attribute name="Dependencies" value="org.apache.cxf"/>
       </manifest>
    </war>

    <!-- jaxws-cxf-descriptor -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-descriptor.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/descriptor/DescriptorEndpointImpl.class"/>
      	<include name="org/jboss/test/ws/jaxws/cxf/descriptor/TestLoggingInInterceptor.class"/>
      </classes>
      <classes dir="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/">
         <include name="cxf.xml"/>
      </classes>     	
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/descriptor/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.apache.cxf.impl"/> <!-- cxf impl required due to custom interceptor in deployment -->
      </manifest>
    </war>

    <!-- jaxws-cxf-in_container_client -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-in_container_client.war" needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/in_container_client/HelloWorld*.class"/>
      </classes>
    </war>
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-in_container_client-client.war"  needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/in_container_client/HelloWorld.class"/>
      	<include name="org/jboss/test/ws/jaxws/cxf/in_container_client/Helper.class"/>
        <include name="org/jboss/wsf/test/TestServlet.class"/>
        <include name="org/jboss/wsf/test/ClientHelper.class"/>
      </classes>
      <classes dir="${tests.output.dir}/test-resources/jaxws/cxf/in_container_client/">
         <include name="cxf.xml"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/in_container_client/WEB-INF">
        <include name="jboss-deployment-structure.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-mixtype-->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-mixtype.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/mixtype/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/mixtype/Endpoint*.class"/>
      </classes>

       <webinf dir="${tests.output.dir}/test-resources//jaxws/cxf/mixtype/WEB-INF">
          <include name="jboss-web.xml"/>
          <include name="jbossws-cxf.xml"/>
       </webinf>
    </war>

    <!-- jaxws-cxf-jbws-3497-->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jbws3497.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/jbws3497/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jbws3497/Endpoint*.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/jbws3497/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
      <zipfileset
        dir="${tests.output.dir}/test-resources/jaxws/cxf/jbws3497/WEB-INF" 
        prefix="WEB-INF/classes">
        <include name="cxf.xml"/>
      </zipfileset>
      <manifest>
        <attribute name="Dependencies" value="org.apache.cxf,org.jboss.ws.cxf.jbossws-cxf-server"/>
      </manifest>
    </war>

    <!-- jaxws-cxf-jms-api -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-api.war"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms/TestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms/HelloWorld*.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/jms/META-INF/wsdl" 
          prefix="WEB-INF/classes/META-INF/wsdl"/>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.cxf.jbossws-cxf-client services,org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jms-only-deployment-as7 -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-only-deployment-as7.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms/HelloWorld*.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/jms/META-INF-as7">
        <include name="wsdl/**/*" />
      </metainf>
      <manifest>
        <attribute name="Dependencies" value="org.hornetq"/>
      </manifest>
    </jar>
  	
    <!-- jaxws-cxf-jms-only-deployment -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-only-deployment.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms/HelloWorld*.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/jms/META-INF">
        <include name="wsdl/**/*" />
      </metainf>
      <manifest>
        <attribute name="Dependencies" value="org.hornetq"/>
      </manifest>
    </jar>
  	
    <!-- jaxws-cxf-jms-http-deployment-as7 -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-http-deployment-as7.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HelloWorld*.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HttpHelloWorld*.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF-as7">
        <include name="wsdl/**"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jms-http-deployment -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-http-deployment.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HelloWorld*.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HttpHelloWorld*.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF">
        <include name="wsdl/**"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jms-only-deployment-test-servlet -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-only-deployment-test-servlet.war"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms/DeploymentTestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms/HelloWorld.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/jms/META-INF/wsdl" 
          prefix="WEB-INF/classes/META-INF/wsdl"/>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.cxf.jbossws-cxf-client services,org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jms-http-deployment-test-servlet-as7 -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-http-deployment-test-servlet-as7.war"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/DeploymentTestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HelloWorld.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF-as7/wsdl" 
          prefix="WEB-INF/classes/META-INF/wsdl"/>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.cxf.jbossws-cxf-client services,org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-jms-http-deployment-test-servlet -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-jms-http-deployment-test-servlet.war"
    	needxmlfile='false'>
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/DeploymentTestServlet.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/jms_http/HelloWorld.class"/>
      </classes>
      <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/cxf/jms_http/WEB-INF/wsdl" 
          prefix="WEB-INF/classes/META-INF/wsdl"/>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.cxf.jbossws-cxf-client services,org.hornetq"/>
      </manifest>
    </war>
  	
    <!-- jaxws-cxf-webserviceref -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-webserviceref.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/webserviceref/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/webserviceref/EndpointImpl.class"/>
      </classes>
    </war>
    <war destfile="${tests.output.dir}/test-libs/jaxws-cxf-webserviceref-servlet-client.war"
      webxml="${tests.output.dir}/test-resources/jaxws/cxf/webserviceref/WEB-INF-client/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/webserviceref/Handler.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/webserviceref/ServletClient.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/webserviceref/EndpointService.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/webserviceref/Endpoint.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/webserviceref/WEB-INF">
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/webserviceref/WEB-INF-client">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-wsrm-basic-doc -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-doc.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-doc/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicDocEndpointImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicDocEndpoint.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-doc/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-wsrm-basic-rpc -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-rpc.war" webxml="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-rpc/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicRPCEndpointImpl.class"/>
        <include name="org/jboss/test/ws/jaxws/cxf/wsrm/BasicRPCEndpoint.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/basic-rpc/WEB-INF">
        <include name="jbossws-cxf.xml"/>
      </webinf>
    </war>

    <!-- jaxws-cxf-wsrm-basic-client -->
    <jar destfile="${tests.output.dir}/test-libs/jaxws-cxf-wsrm-basic-client.jar">
      <metainf dir="${tests.output.dir}/test-resources/jaxws/cxf/wsrm/">
        <include name="cxf.xml" />
      </metainf>
    </jar>
    <!-- Please add alphabetically -->

  </target>

</project>
